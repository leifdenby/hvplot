<!DOCTYPE html>
<html lang="en">
 <head>
  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8"/>
  <title>
   Streaming — hvPlot 0.0.1 documentation
  </title>
  <meta content="A high-level plotting API for the PyData ecosystem built on HoloViews" name="description"/>
  <meta content="PyViz developers" name="author"/>
  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js">
  </script>
  <script>
   WebFont.load({
      google: {
        families: ['Source Sans Pro']
      }
    });
  </script>
  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="../_static/main.css" rel="stylesheet"/>
  <link href="../_static/nbsite.css" rel="stylesheet"/>
  <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
  <script src="../_static/js/main.js">
  </script>
  <script src="../_static/nbsite.js">
  </script>
  <script src="../_static/require.js">
  </script>
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="../_static/favicon.ico" rel="icon" type="image/png"/>
  <!-- Canonical
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="/user_guide/Streaming.html" rel="canonical"/>
 </head>
 <body class="">
  <header class="navigation">
   <div class="wrapper">
    <a class="logo" href="../index.html">
     <img alt="Logo" src="../_static/hvplot-logo.png"/>
    </a>
    <a class="navigation-menu logo-text" href="../index.html">
     hvPlot
    </a>
    <a class="navigation-menu-button" href="javascript:void(0)" id="js-mobile-menu">
     Menu
    </a>
    <nav>
     <ul class="navigation-menu show" id="js-navigation-menu">
      <li class="nav-link">
       <div style="display:inline-block;vertical-align: middle;">
        <div class="search-bar">
         <form action="../search.html" method="get" role="search">
          <input name="q" placeholder="Search" type="search"/>
          <button type="submit">
           <img alt="Search Icon" src="https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/search-icon-black.png"/>
          </button>
         </form>
        </div>
       </div>
      </li>
     </ul>
    </nav>
   </div>
  </header>
  <div class="second-nav">
   <nav>
    <ul class="navigation-menu show">
     <li class="nav-link doc-head">
      <a href="../getting_started/index.html">
       Getting Started
      </a>
     </li>
     <li class="nav-link doc-head">
      <a href="index.html">
       User Guide
      </a>
     </li>
     <li class="nav-link doc-head">
      <a href="../about.html">
       About
      </a>
     </li>
    </ul>
   </nav>
  </div>
  <!-- MAIN BODY OF DOCS –––––––––––––––––– -->
  <div class="docs section">
   <div id="hacketyhackhack">
    <!-- style="width:20%;margin-right: 100px;"> -->
    <!--style="display: none;"> style="display:none;"> -->
    <div class="toc" style="width:15%; margin-right:20px;">
     <ul class="current">
      <li class="toctree-l1">
       <a class="reference internal" href="../index.html">
        Introduction
       </a>
      </li>
      <li class="toctree-l1">
       <a class="reference internal" href="../getting_started/index.html">
        Getting Started
       </a>
      </li>
      <li class="toctree-l1 current">
       <a class="reference internal" href="index.html">
        User Guide
       </a>
       <ul class="current">
        <li class="toctree-l2">
         <a class="reference internal" href="Introduction.html">
          Introduction
         </a>
        </li>
        <li class="toctree-l2">
         <a class="reference internal" href="Plotting.html">
          Plotting
         </a>
        </li>
        <li class="toctree-l2">
         <a class="reference internal" href="Viewing.html">
          Viewing
         </a>
        </li>
        <li class="toctree-l2">
         <a class="reference internal" href="Subplots.html">
          Subplots
         </a>
        </li>
        <li class="toctree-l2 current">
         <a class="current reference internal" href="#">
          Streaming
         </a>
        </li>
        <li class="toctree-l2">
         <a class="reference internal" href="Gridded_Data.html">
          Gridded Data
         </a>
        </li>
        <li class="toctree-l2">
         <a class="reference internal" href="Statistical_Plots.html">
          Statistical Plots
         </a>
        </li>
        <li class="toctree-l2">
         <a class="reference internal" href="Geographic_Data.html">
          Geographic Plots
         </a>
        </li>
       </ul>
      </li>
      <li class="toctree-l1">
       <a class="reference internal" href="../about.html">
        About
       </a>
      </li>
     </ul>
    </div>
   </div>
   <div class="content">
    <!-- style="max-width:80%;margin-left:auto;margin-right: auto;">-->
    <div class="section" id="streaming">
     <h1>
      Streaming
      <a class="headerlink" href="#streaming" title="Permalink to this headline">
       ¶
      </a>
     </h1>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <p>
         hvPlot supports
         <a href="https://github.com/mrocklin/streamz">
          streamz
         </a>
         DataFrame and Series objects, automatically generating streaming plots in a Jupyter notebook or deployed as a
         <a href="https://bokeh.pydata.org/en/latest/docs/user_guide/server.html">
          Bokeh Server app
         </a>
         .
        </p>
        <p>
         All hvPlot methods on streamz objects return HoloViews
         <code>
          DynamicMap
         </code>
         objects that update the plot whenever
         <code>
          streamz
         </code>
         triggers an event. For more information on
         <code>
          DynamicMap
         </code>
         and HoloViews dynamic plotting support, see the
         <a href="http://holoviews.org/user_guide">
          HoloViews User Guide
         </a>
         ; here we will focus on using the simple, high-level hvPlot API rather than on the details of how events and data flow behind the scenes.
        </p>
        <p>
         <strong>
          All plots generated by the streamz plotting interface dynamically stream data from Python into the web browser.  The web version for this page includes
          <em>
           screen captures
          </em>
          of the streaming visualizations, not live streaming data.
         </strong>
        </p>
        <p>
         As for any of the data backends, we start by patching the streamz library with the plotting API:
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="kn">import</span> <span class="nn">hvplot.streamz</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <h2 id="Basic-plotting">
         Basic plotting
         <a class="anchor-link" href="#Basic-plotting">
          ¶
         </a>
        </h2>
        <p>
         Throughout this section we will be using the
         <code>
          Random
         </code>
         object from streamz, which provides an easy way of generating a DataFrame of random streaming data but which could be substituted with any streamz
         <code>
          DataFrame
         </code>
         or
         <code>
          Series
         </code>
         driven by a live, external data source instead. To stop the
         <code>
          Random
         </code>
         stream you can call
         <code>
          df.stop()
         </code>
         at any point.
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="kn">from</span> <span class="nn">streamz.dataframe</span> <span class="k">import</span> <span class="n">Random</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="s1">'200ms'</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">'50ms'</span><span class="p">)</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <p>
         <img src="http://assets.holoviews.org/hvplot/gifs/df_streamz.gif" width="400px"/>
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <p>
         The plot method on Series and DataFrame is a simple wrapper around a
line plot, which will plot all columns:
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">hvplot</span><span class="p">()</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <center>
         <img src="https://assets.holoviews.org/hvplot/gifs/df_plot.gif" width="700px"/>
        </center>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <p>
         The plot method can also be called on a Series, plotting a specific column:
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span><span class="o">.</span><span class="n">hvplot</span><span class="p">()</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <center>
         <img src="https://assets.holoviews.org/hvplot/gifs/df_curve.gif" width="700px"/>
        </center>
        <p>
         Actually,
         <em>
          all
         </em>
         the functionality described in the
         <a href="Plotting.html">
          Plotting
         </a>
         user guide should work just the same as it does for a regular (non-streaming) dask or pandas DataFrame or Series, but will now update as new data appears.
        </p>
        <h2 id="Controlling-the-backlog">
         Controlling the backlog
         <a class="anchor-link" href="#Controlling-the-backlog">
          ¶
         </a>
        </h2>
        <p>
         The main difference when using a streaming DataFrame is that a only a certain amount of data will be buffered and displayed. The number of rows of data that will be buffered can be controlled by the
         <code>
          backlog
         </code>
         parameter. Here, let's buffer and display 10 rows of our streaming DataFrame as a table:
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">backlog</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <center>
         <img src="https://assets.holoviews.org/hvplot/gifs/df_table.gif" width="400px"/>
        </center>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <p>
         This of course only has an effect when we are directly streaming data point by point. When we have an aggregate DataFrame, the plot will continuously accumulate updates:
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'y'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'y'</span><span class="p">)</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <center>
         <img src="https://assets.holoviews.org/hvplot/gifs/df_bars.gif" width="700px"/>
        </center>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <h2 id="Composing-Plots">
         Composing Plots
         <a class="anchor-link" href="#Composing-Plots">
          ¶
         </a>
        </h2>
        <p>
         hvPlot is a convenient API for generating HoloViews objects. One of the core strengths of HoloViews objects is the ease with which they can be composed, which works with streaming plots just as with static ones. Individual plots can be composed using the
         <code>
          *
         </code>
         and
         <code>
          +
         </code>
         operators, which overlay and compose plots into layouts respectively. For more information on composing objects see the HoloViews
         <a href="https://holoviews.org/user_guide/Composing_Elements.html">
          User Guide
         </a>
         .
        </p>
        <p>
         By using these operators we can combine multiple plots into composite Overlay and Layout objects, and lay them out in two columns using the
         <code>
          Layout.cols
         </code>
         method:
        </p>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing code_cell rendered">
      <div class="input">
       <div class="prompt input_prompt">
        In [ ]:
       </div>
       <div class="inner_cell">
        <div class="input_area">
         <div class=" highlight hl-ipython3">
          <pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">backlog</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">backlog</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="o">+</span>
 <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'y'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="s1">'y'</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span> <span class="o">+</span>
 <span class="n">df</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">shared_axes</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span><span class="o">.</span><span class="n">cols</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <center>
         <img src="https://assets.holoviews.org/hvplot/gifs/df_composite.gif" width="700px"/>
        </center>
       </div>
      </div>
     </div>
     <div class="cell border-box-sizing text_cell rendered">
      <div class="prompt input_prompt">
      </div>
      <div class="inner_cell">
       <div class="text_cell_render border-box-sizing rendered_html">
        <h2 id="Deployment-as-Bokeh-apps">
         Deployment as Bokeh apps
         <a class="anchor-link" href="#Deployment-as-Bokeh-apps">
          ¶
         </a>
        </h2>
        <p>
         HoloViews objects automatically render themselves in Jupyter notebook cells, but when deploying a bokeh app the plot has to be rendered explicitly. Deploying as a Bokeh Server app allows you to share live, dynamically updated visualizations like those for streaming data, backed by a running Python process.
        </p>
        <p>
         The following example describes how to set up a streaming DataFrame, declare some plots, compose them, set up a callback to update the plot and finally convert the composite plot to a bokeh Document, which can be served from a script using
         <code>
          bokeh serve
         </code>
         on the commandline.
        </p>
        <div class="highlight">
         <pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">hvplot.streamz</span>

<span class="kn">from</span> <span class="nn">hvplot</span> <span class="kn">import</span> <span class="n">renderer</span>
<span class="kn">from</span> <span class="nn">streamz</span> <span class="kn">import</span> <span class="n">Stream</span>
<span class="kn">from</span> <span class="nn">streamz.dataframe</span> <span class="kn">import</span> <span class="n">DataFrame</span>

<span class="c1"># Set up streaming DataFrame</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([])</span>
<span class="n">example</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'x'</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">'y'</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">'z'</span><span class="p">:</span> <span class="p">[]},</span>
                       <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">example</span><span class="o">=</span><span class="n">example</span><span class="p">)</span>
<span class="n">cumulative</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()[[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">]]</span>

<span class="c1"># Declare plots</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">cumulative</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="n">scatter</span> <span class="o">=</span> <span class="n">cumulative</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'y'</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="n">kde</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>

<span class="c1"># Compose plots</span>
<span class="n">layout</span> <span class="o">=</span> <span class="p">(</span><span class="n">line</span> <span class="o">*</span> <span class="n">scatter</span> <span class="o">+</span> <span class="n">bars</span> <span class="o">+</span> <span class="n">box</span> <span class="o">+</span> <span class="n">kde</span><span class="p">)</span><span class="o">.</span><span class="n">cols</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Set up callback with streaming data</span>
<span class="k">def</span> <span class="nf">emit</span><span class="p">():</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">timedelta64</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s1">'ms'</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">(</span><span class="n">now</span><span class="p">)</span><span class="o">-</span><span class="n">delta</span><span class="p">,</span> <span class="n">now</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">'100ms'</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'x'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)),</span>
                       <span class="s1">'y'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)),</span>
                       <span class="s1">'z'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">))},</span>
                      <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Render layout to bokeh server Document and attach callback</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">server_doc</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
<span class="n">doc</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">'Streamz HoloViews based Plotting API Bokeh App Demo'</span>
<span class="n">doc</span><span class="o">.</span><span class="n">add_periodic_callback</span><span class="p">(</span><span class="n">emit</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre>
        </div>
        <p>
         For more details on deploying Bokeh apps see the HoloViews
         <a href="https://holoviews.org/user_guide/Deploying_Bokeh_Apps.html">
          User Guide
         </a>
         .
        </p>
        <h2 id="Using-HoloViews-directly">
         Using HoloViews directly
         <a class="anchor-link" href="#Using-HoloViews-directly">
          ¶
         </a>
        </h2>
        <p>
         HoloViews itself includes first class support for streamz DataFrame and Series; for more details see the
         <a href="https://holoviews.org/user_guide/Streaming_Data.html">
          Streaming Data section
         </a>
         in the HoloViews documentation.
        </p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <!-- END MAIN BODY OF DOCS ––––––––––––– -->
  <footer class="footer">
   <div class="footer-links">
    <ul>
     <li>
      <span class="footer-title">
       Links
      </span>
     </li>
     <li>
      <a href="../getting_started/index.html">
       Getting Started
      </a>
     </li>
     <li>
      <a href="index.html">
       User Guide
      </a>
     </li>
     <li>
      <a href="../about.html">
       About
      </a>
     </li>
    </ul>
    <ul>
     <li>
      <span class="footer-title">
       Join Us
      </span>
     </li>
     <li>
      <a href="//gitter.im/ioam/holoviews">
       Gitter
      </a>
     </li>
     <li>
      <a href="//github.com/pyviz/holoplot">
       Github
      </a>
     </li>
    </ul>
    <ul class="copyright">
     <li>
      2018 PyViz developers
     </li>
    </ul>
   </div>
  </footer>
  <!-- Google Analytics -->
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61554933-1', 'auto');
  ga('send', 'pageview');
  </script>
  <!-- MathJax Config -->
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
  </script>
  <!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
 </body>
</html>